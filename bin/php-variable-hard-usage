#!/usr/bin/env php
<?php

declare(strict_types=1);

foreach ([__DIR__ . '/../../../autoload.php', __DIR__ . '/../vendor/autoload.php'] as $file) {
    if (file_exists($file)) {
        require $file;
        break;
    }
}

use Smeghead\PhpVariableHardUsage\EntryPoint;
use Smeghead\PhpVariableHardUsage\Option\GetOptions;

$getOptions = new GetOptions($_SERVER['argv']);
$result = $getOptions->parse();

$entryPoint = new EntryPoint();
$exitCode = $entryPoint->run($result->options, $result->paths);
exit($exitCode);